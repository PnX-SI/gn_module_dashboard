<div class="row row-sm">
  <div class="col-md-2 padding-sm">
    <div
      class="card"
      style="height: 100%"
    >
      <div class="card-header">
        <h3>
          <mat-icon>filter_alt</mat-icon>
          Filtrer
        </h3>
      </div>

      <div class="card-body">
        <div id="filters">
          <form [formGroup]="recontactForm">
            <div
              class="form-group"
              id="years"
            >
              <label class="col-form-label"><b>Année</b></label>
              <select
                class="form-control form-control-sm"
                formControlName="selectedYear"
                (change)="getCurrentYear($event)"
                [disableControl]="spinner"
              >
                <ng-container *ngFor="let year of distinctYears">
                  <option [ngValue]="year">
                    {{ year }}
                  </option>
                </ng-container>
              </select>
            </div>
          </form>
        </div>

        <div style="text-align: center">
          <div
            class="spinner-border text-secondary m-5"
            role="status"
            *ngIf="spinner"
          ></div>
        </div>
      </div>
    </div>
  </div>

  <div class="col-md-10 padding-sm">
    <div class="row row-md">
      <div class="card-absolute">
        <em
          class="fa fa-lg fa-info-circle"
          style="padding-right: 0.2rem; color: rgb(217, 146, 30)"
          aria-hidden="true"
        ></em>
        <small>
          Pour une année donnée, un taxon recontacté correspond à un taxon qui avait déjà été
          observé au cours d'une des années précédentes (au moins).
          <br />
          Un taxon non recontacté correspond à un taxon qui avait déjà été observé au cours d'une
          des années précédentes (au moins) mais qui n'a pas été observé pendant l'année en cours.
          <br />
          Un nouveau taxon correspond à un taxon qui n'avait jamais été observé au cours des années
          précédentes.
        </small>
      </div>
    </div>

    <div
      style="display: block; width: 90%; height: 50vh"
      class="ml-3"
    >
      <canvas
        *ngIf="pieChartData[0].data.length > 0"
        baseChart
        [datasets]="pieChartData"
        [labels]="pieChartLabels"
        [type]="pietype"
        [options]="pieChartOptions"
        padding="20px"
        [legend]="true"
        [plugins]="pieChartPlugins"
      ></canvas>
    </div>
  </div>
</div>
<br />
